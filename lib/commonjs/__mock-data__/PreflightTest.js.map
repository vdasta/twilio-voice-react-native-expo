{"version":3,"names":["_PreflightTest","require","_constants","mockUuid","exports","mockSample","audioInputLevel","audioOutputLevel","bytesReceived","bytesSent","codec","jitter","mos","packetsLost","packetsLostFraction","packetsReceived","packetsSent","rtt","timestamp","mockRtcIceCandidateStats","Constants","PreflightRTCIceCandidateStatsCandidateType","PreflightRTCIceCandidateStatsDeleted","PreflightRTCIceCandidateStatsIp","PreflightRTCIceCandidateStatsIsRemote","PreflightRTCIceCandidateStatsNetworkCost","PreflightRTCIceCandidateStatsNetworkId","PreflightRTCIceCandidateStatsNetworkType","PreflightRTCIceCandidateStatsPort","PreflightRTCIceCandidateStatsPriority","PreflightRTCIceCandidateStatsProtocol","PreflightRTCIceCandidateStatsRelatedAddress","PreflightRTCIceCandidateStatsRelatedPort","PreflightRTCIceCandidateStatsTcpType","PreflightRTCIceCandidateStatsTransportId","PreflightRTCIceCandidateStatsUrl","mockPreflightStats","PreflightStatsAverage","PreflightStatsMax","PreflightStatsMin","mockPreflightRtcStats","PreflightRTCStatsJitter","PreflightRTCStatsMos","PreflightRTCStatsRtt","mockTiming","duration","endTime","startTime","mockNetworkTiming","signaling","peerConnection","iceConnection","preflightTest","mockWarning","name","threshold","values","mockWarningCleared","baseMockReport","callSid","edge","iceCandidates","networkStats","networkTiming","statsSamples","selectedEdge","selectedIceCandidatePair","localCandidate","remoteCandidate","warnings","warningsCleared","expectedReport","callQuality","PreflightTest","CallQuality","Excellent","iceCandidateStats","candidateType","deleted","ip","isRemote","networkCost","networkId","networkType","port","priority","protocol","relatedAddress","relatedPort","tcpType","transportId","url","isTurnRequired","ice","end","start","samples","selectedIceCandidatePairStats","stats","average","max","min","testTiming","makeMockNativePreflightEvent","eventType","PreflightTestEventKeyUuid","PreflightTestEventKeyType"],"sources":["PreflightTest.ts"],"sourcesContent":["import { PreflightTest } from '../PreflightTest';\nimport { Constants } from '../constants';\n\nexport const mockUuid = 'mock-uuid';\n\nexport const mockSample = {\n  audioInputLevel: 10,\n  audioOutputLevel: 20,\n  bytesReceived: 30,\n  bytesSent: 40,\n  codec: 'mock-codec',\n  jitter: 50,\n  mos: 60,\n  packetsLost: 70,\n  packetsLostFraction: 80,\n  packetsReceived: 90,\n  packetsSent: 100,\n  rtt: 110,\n  timestamp: '120',\n};\n\nexport const mockRtcIceCandidateStats: PreflightTest.RTCIceCandidateStats = {\n  [Constants.PreflightRTCIceCandidateStatsCandidateType]: 'mock-candidatetype',\n  [Constants.PreflightRTCIceCandidateStatsDeleted]: false,\n  [Constants.PreflightRTCIceCandidateStatsIp]: 'mock-ip',\n  [Constants.PreflightRTCIceCandidateStatsIsRemote]: false,\n  [Constants.PreflightRTCIceCandidateStatsNetworkCost]: 10,\n  [Constants.PreflightRTCIceCandidateStatsNetworkId]: 20,\n  [Constants.PreflightRTCIceCandidateStatsNetworkType]: 'mock-networktype',\n  [Constants.PreflightRTCIceCandidateStatsPort]: 30,\n  [Constants.PreflightRTCIceCandidateStatsPriority]: 40,\n  [Constants.PreflightRTCIceCandidateStatsProtocol]: 'mock-protocol',\n  [Constants.PreflightRTCIceCandidateStatsRelatedAddress]:\n    'mock-relatedaddress',\n  [Constants.PreflightRTCIceCandidateStatsRelatedPort]: 50,\n  [Constants.PreflightRTCIceCandidateStatsTcpType]: 'mock-tcptype',\n  [Constants.PreflightRTCIceCandidateStatsTransportId]: 'mock-transportid',\n  [Constants.PreflightRTCIceCandidateStatsUrl]: 'mock-url',\n};\n\nexport const mockPreflightStats: PreflightTest.Stats = {\n  [Constants.PreflightStatsAverage]: 10,\n  [Constants.PreflightStatsMax]: 20,\n  [Constants.PreflightStatsMin]: 30,\n};\n\nexport const mockPreflightRtcStats: PreflightTest.RTCStats = {\n  [Constants.PreflightRTCStatsJitter]: mockPreflightStats,\n  [Constants.PreflightRTCStatsMos]: mockPreflightStats,\n  [Constants.PreflightRTCStatsRtt]: mockPreflightStats,\n};\n\nexport const mockTiming = {\n  duration: 10,\n  endTime: 20,\n  startTime: 30,\n};\n\nexport const mockNetworkTiming = {\n  signaling: mockTiming,\n  peerConnection: mockTiming,\n  iceConnection: mockTiming,\n  preflightTest: mockTiming,\n};\n\nexport const mockWarning = {\n  name: 'mock-warningname',\n  threshold: 'mock-warningthreshold',\n  timestamp: 10,\n  values: 'mock-warningvalues',\n};\n\nexport const mockWarningCleared = {\n  name: 'mock-warningclearedname',\n  timestamp: 10,\n};\n\nexport const baseMockReport = {\n  callSid: 'mock-callsid',\n  edge: 'mock-edge',\n  iceCandidates: [mockRtcIceCandidateStats, mockRtcIceCandidateStats],\n  networkStats: mockPreflightRtcStats,\n  networkTiming: mockNetworkTiming,\n  statsSamples: [mockSample, mockSample],\n  selectedEdge: 'mock-selectededge',\n  selectedIceCandidatePair: {\n    localCandidate: mockRtcIceCandidateStats,\n    remoteCandidate: mockRtcIceCandidateStats,\n  },\n  warnings: [mockWarning, mockWarning],\n  warningsCleared: [mockWarningCleared, mockWarningCleared],\n};\n\nexport const expectedReport: PreflightTest.Report = {\n  callQuality: PreflightTest.CallQuality.Excellent,\n  callSid: 'mock-callsid',\n  edge: 'mock-edge',\n  iceCandidateStats: [\n    {\n      candidateType: 'mock-candidatetype',\n      deleted: false,\n      ip: 'mock-ip',\n      isRemote: false,\n      networkCost: 10,\n      networkId: 20,\n      networkType: 'mock-networktype',\n      port: 30,\n      priority: 40,\n      protocol: 'mock-protocol',\n      relatedAddress: 'mock-relatedaddress',\n      relatedPort: 50,\n      tcpType: 'mock-tcptype',\n      transportId: 'mock-transportid',\n      url: 'mock-url',\n    },\n    {\n      candidateType: 'mock-candidatetype',\n      deleted: false,\n      ip: 'mock-ip',\n      isRemote: false,\n      networkCost: 10,\n      networkId: 20,\n      networkType: 'mock-networktype',\n      port: 30,\n      priority: 40,\n      protocol: 'mock-protocol',\n      relatedAddress: 'mock-relatedaddress',\n      relatedPort: 50,\n      tcpType: 'mock-tcptype',\n      transportId: 'mock-transportid',\n      url: 'mock-url',\n    },\n  ],\n  isTurnRequired: false,\n  networkTiming: {\n    ice: {\n      duration: 10,\n      end: 20,\n      start: 30,\n    },\n    peerConnection: {\n      duration: 10,\n      end: 20,\n      start: 30,\n    },\n    signaling: {\n      duration: 10,\n      end: 20,\n      start: 30,\n    },\n  },\n  samples: [\n    {\n      audioInputLevel: 10,\n      audioOutputLevel: 20,\n      bytesReceived: 30,\n      bytesSent: 40,\n      codec: 'mock-codec',\n      jitter: 50,\n      mos: 60,\n      packetsLost: 70,\n      packetsLostFraction: 80,\n      packetsReceived: 90,\n      packetsSent: 100,\n      rtt: 110,\n      timestamp: 120,\n    },\n    {\n      audioInputLevel: 10,\n      audioOutputLevel: 20,\n      bytesReceived: 30,\n      bytesSent: 40,\n      codec: 'mock-codec',\n      jitter: 50,\n      mos: 60,\n      packetsLost: 70,\n      packetsLostFraction: 80,\n      packetsReceived: 90,\n      packetsSent: 100,\n      rtt: 110,\n      timestamp: 120,\n    },\n  ],\n  selectedEdge: 'mock-selectededge',\n  selectedIceCandidatePairStats: {\n    localCandidate: {\n      candidateType: 'mock-candidatetype',\n      deleted: false,\n      ip: 'mock-ip',\n      isRemote: false,\n      networkCost: 10,\n      networkId: 20,\n      networkType: 'mock-networktype',\n      port: 30,\n      priority: 40,\n      protocol: 'mock-protocol',\n      relatedAddress: 'mock-relatedaddress',\n      relatedPort: 50,\n      tcpType: 'mock-tcptype',\n      transportId: 'mock-transportid',\n      url: 'mock-url',\n    },\n    remoteCandidate: {\n      candidateType: 'mock-candidatetype',\n      deleted: false,\n      ip: 'mock-ip',\n      isRemote: false,\n      networkCost: 10,\n      networkId: 20,\n      networkType: 'mock-networktype',\n      port: 30,\n      priority: 40,\n      protocol: 'mock-protocol',\n      relatedAddress: 'mock-relatedaddress',\n      relatedPort: 50,\n      tcpType: 'mock-tcptype',\n      transportId: 'mock-transportid',\n      url: 'mock-url',\n    },\n  },\n  stats: {\n    jitter: {\n      average: 10,\n      max: 20,\n      min: 30,\n    },\n    mos: {\n      average: 10,\n      max: 20,\n      min: 30,\n    },\n    rtt: {\n      average: 10,\n      max: 20,\n      min: 30,\n    },\n  },\n  testTiming: {\n    duration: 10,\n    end: 20,\n    start: 30,\n  },\n  warnings: [\n    {\n      name: 'mock-warningname',\n      threshold: 'mock-warningthreshold',\n      timestamp: 10,\n      values: 'mock-warningvalues',\n    },\n    {\n      name: 'mock-warningname',\n      threshold: 'mock-warningthreshold',\n      timestamp: 10,\n      values: 'mock-warningvalues',\n    },\n  ],\n  warningsCleared: [\n    {\n      name: 'mock-warningclearedname',\n      timestamp: 10,\n    },\n    {\n      name: 'mock-warningclearedname',\n      timestamp: 10,\n    },\n  ],\n};\n\nexport const makeMockNativePreflightEvent = (eventType: any) => ({\n  [Constants.PreflightTestEventKeyUuid]: mockUuid,\n  [Constants.PreflightTestEventKeyType]: eventType,\n});\n"],"mappings":"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","ignoreList":[]}