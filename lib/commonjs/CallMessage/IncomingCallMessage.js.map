{"version":3,"names":["_eventemitter","require","_CallMessage","_defineProperty","e","r","t","_toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","IncomingCallMessage","EventEmitter","constructor","callMessageInfo","content","contentType","messageType","validateCallMessage","_content","_contentType","_messageType","_voiceEventSid","voiceEventSid","getContent","getContentType","getMessageType","getSid","exports"],"sources":["IncomingCallMessage.ts"],"sourcesContent":["/**\n * Copyright Â© 2022 Twilio, Inc. All rights reserved. Licensed under the Twilio\n * license.\n *\n * See LICENSE in the project root for license information.\n */\n\nimport { EventEmitter } from 'eventemitter3';\nimport type { NativeCallMessageInfo } from '../type/CallMessage';\nimport { validateCallMessage } from './CallMessage';\n\n/**\n * CallMessage API is in beta.\n *\n * Provides access to information about a CallMessage, including the call\n * message content, content type, message type, and voice event SID.\n *\n * @public\n */\nexport class IncomingCallMessage extends EventEmitter {\n  /**\n   * The content of the message which should match the contentType parameter.\n   */\n  private _content: any;\n\n  /**\n   * The MIME type of the content.\n   */\n  private _contentType: string;\n\n  /**\n   * Message type\n   */\n  private _messageType: string;\n\n  /**\n   * An autogenerated ID that uniquely identifies this message.\n   * This is not required when sending a message from the SDK as this is\n   * autogenerated.\n   * The ID will be available after the message is sent, or immediately when a\n   * message is received.\n   */\n  private _voiceEventSid?: string;\n\n  /**\n   * Constructor for the {@link IncomingCallMessage} class. This should not be\n   * invoked by third-party code.\n   *\n   * @param NativeCallMessageInfo - An object containing all of the data from\n   * the native layer necessary to fully describe a call message, as well as\n   * invoke native functionality for the call message.\n   *\n   * @internal\n   */\n  constructor(callMessageInfo: NativeCallMessageInfo) {\n    super();\n\n    const { content, contentType, messageType } =\n      validateCallMessage(callMessageInfo);\n\n    this._content = content;\n    this._contentType = contentType;\n    this._messageType = messageType;\n    this._voiceEventSid = callMessageInfo.voiceEventSid;\n  }\n\n  /**\n   * {@inheritdoc CallMessage.content}\n   *\n   * @returns the content of the call message.\n   */\n  getContent(): any {\n    return this._content;\n  }\n\n  /**\n   * {@inheritdoc CallMessage.contentType}\n   *\n   * @returns the content type of the call message.\n   */\n  getContentType(): string {\n    return this._contentType;\n  }\n\n  /**\n   * {@inheritdoc CallMessage.messageType}\n   *\n   * @returns the message type of the call message.\n   */\n  getMessageType(): string {\n    return this._messageType;\n  }\n\n  /**\n   * Get the message SID.\n   * @returns\n   * - A string representing the message SID.\n   * - `undefined` if the call information has not yet been received from the\n   *   native layer.\n   */\n  getSid(): string | undefined {\n    return this._voiceEventSid;\n  }\n}\n"],"mappings":";;;;;;AAOA,IAAAA,aAAA,GAAAC,OAAA;AAEA,IAAAC,YAAA,GAAAD,OAAA;AAAoD,SAAAE,gBAAAC,CAAA,EAAAC,CAAA,EAAAC,CAAA,YAAAD,CAAA,GAAAE,cAAA,CAAAF,CAAA,MAAAD,CAAA,GAAAI,MAAA,CAAAC,cAAA,CAAAL,CAAA,EAAAC,CAAA,IAAAK,KAAA,EAAAJ,CAAA,EAAAK,UAAA,MAAAC,YAAA,MAAAC,QAAA,UAAAT,CAAA,CAAAC,CAAA,IAAAC,CAAA,EAAAF,CAAA;AAAA,SAAAG,eAAAD,CAAA,QAAAQ,CAAA,GAAAC,YAAA,CAAAT,CAAA,uCAAAQ,CAAA,GAAAA,CAAA,GAAAA,CAAA;AAAA,SAAAC,aAAAT,CAAA,EAAAD,CAAA,2BAAAC,CAAA,KAAAA,CAAA,SAAAA,CAAA,MAAAF,CAAA,GAAAE,CAAA,CAAAU,MAAA,CAAAC,WAAA,kBAAAb,CAAA,QAAAU,CAAA,GAAAV,CAAA,CAAAc,IAAA,CAAAZ,CAAA,EAAAD,CAAA,uCAAAS,CAAA,SAAAA,CAAA,YAAAK,SAAA,yEAAAd,CAAA,GAAAe,MAAA,GAAAC,MAAA,EAAAf,CAAA,KATpD;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAMgB,mBAAmB,SAASC,0BAAY,CAAC;EAyBpD;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEC,WAAWA,CAACC,eAAsC,EAAE;IAClD,KAAK,CAAC,CAAC;IAnCT;AACF;AACA;IAFEtB,eAAA;IAKA;AACF;AACA;IAFEA,eAAA;IAKA;AACF;AACA;IAFEA,eAAA;IAKA;AACF;AACA;AACA;AACA;AACA;AACA;IANEA,eAAA;IAsBE,MAAM;MAAEuB,OAAO;MAAEC,WAAW;MAAEC;IAAY,CAAC,GACzC,IAAAC,gCAAmB,EAACJ,eAAe,CAAC;IAEtC,IAAI,CAACK,QAAQ,GAAGJ,OAAO;IACvB,IAAI,CAACK,YAAY,GAAGJ,WAAW;IAC/B,IAAI,CAACK,YAAY,GAAGJ,WAAW;IAC/B,IAAI,CAACK,cAAc,GAAGR,eAAe,CAACS,aAAa;EACrD;;EAEA;AACF;AACA;AACA;AACA;EACEC,UAAUA,CAAA,EAAQ;IAChB,OAAO,IAAI,CAACL,QAAQ;EACtB;;EAEA;AACF;AACA;AACA;AACA;EACEM,cAAcA,CAAA,EAAW;IACvB,OAAO,IAAI,CAACL,YAAY;EAC1B;;EAEA;AACF;AACA;AACA;AACA;EACEM,cAAcA,CAAA,EAAW;IACvB,OAAO,IAAI,CAACL,YAAY;EAC1B;;EAEA;AACF;AACA;AACA;AACA;AACA;AACA;EACEM,MAAMA,CAAA,EAAuB;IAC3B,OAAO,IAAI,CAACL,cAAc;EAC5B;AACF;AAACM,OAAA,CAAAjB,mBAAA,GAAAA,mBAAA","ignoreList":[]}