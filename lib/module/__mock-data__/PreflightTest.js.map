{"version":3,"names":["PreflightTest","Constants","mockUuid","mockSample","audioInputLevel","audioOutputLevel","bytesReceived","bytesSent","codec","jitter","mos","packetsLost","packetsLostFraction","packetsReceived","packetsSent","rtt","timestamp","mockRtcIceCandidateStats","PreflightRTCIceCandidateStatsCandidateType","PreflightRTCIceCandidateStatsDeleted","PreflightRTCIceCandidateStatsIp","PreflightRTCIceCandidateStatsIsRemote","PreflightRTCIceCandidateStatsNetworkCost","PreflightRTCIceCandidateStatsNetworkId","PreflightRTCIceCandidateStatsNetworkType","PreflightRTCIceCandidateStatsPort","PreflightRTCIceCandidateStatsPriority","PreflightRTCIceCandidateStatsProtocol","PreflightRTCIceCandidateStatsRelatedAddress","PreflightRTCIceCandidateStatsRelatedPort","PreflightRTCIceCandidateStatsTcpType","PreflightRTCIceCandidateStatsTransportId","PreflightRTCIceCandidateStatsUrl","mockPreflightStats","PreflightStatsAverage","PreflightStatsMax","PreflightStatsMin","mockPreflightRtcStats","PreflightRTCStatsJitter","PreflightRTCStatsMos","PreflightRTCStatsRtt","mockTiming","duration","endTime","startTime","mockNetworkTiming","signaling","peerConnection","iceConnection","preflightTest","mockWarning","name","threshold","values","mockWarningCleared","baseMockReport","callSid","edge","iceCandidates","networkStats","networkTiming","statsSamples","selectedEdge","selectedIceCandidatePair","localCandidate","remoteCandidate","warnings","warningsCleared","expectedReport","callQuality","CallQuality","Excellent","iceCandidateStats","candidateType","deleted","ip","isRemote","networkCost","networkId","networkType","port","priority","protocol","relatedAddress","relatedPort","tcpType","transportId","url","isTurnRequired","ice","end","start","samples","selectedIceCandidatePairStats","stats","average","max","min","testTiming","makeMockNativePreflightEvent","eventType","PreflightTestEventKeyUuid","PreflightTestEventKeyType"],"sources":["PreflightTest.ts"],"sourcesContent":["import { PreflightTest } from '../PreflightTest';\nimport { Constants } from '../constants';\n\nexport const mockUuid = 'mock-uuid';\n\nexport const mockSample = {\n  audioInputLevel: 10,\n  audioOutputLevel: 20,\n  bytesReceived: 30,\n  bytesSent: 40,\n  codec: 'mock-codec',\n  jitter: 50,\n  mos: 60,\n  packetsLost: 70,\n  packetsLostFraction: 80,\n  packetsReceived: 90,\n  packetsSent: 100,\n  rtt: 110,\n  timestamp: '120',\n};\n\nexport const mockRtcIceCandidateStats: PreflightTest.RTCIceCandidateStats = {\n  [Constants.PreflightRTCIceCandidateStatsCandidateType]: 'mock-candidatetype',\n  [Constants.PreflightRTCIceCandidateStatsDeleted]: false,\n  [Constants.PreflightRTCIceCandidateStatsIp]: 'mock-ip',\n  [Constants.PreflightRTCIceCandidateStatsIsRemote]: false,\n  [Constants.PreflightRTCIceCandidateStatsNetworkCost]: 10,\n  [Constants.PreflightRTCIceCandidateStatsNetworkId]: 20,\n  [Constants.PreflightRTCIceCandidateStatsNetworkType]: 'mock-networktype',\n  [Constants.PreflightRTCIceCandidateStatsPort]: 30,\n  [Constants.PreflightRTCIceCandidateStatsPriority]: 40,\n  [Constants.PreflightRTCIceCandidateStatsProtocol]: 'mock-protocol',\n  [Constants.PreflightRTCIceCandidateStatsRelatedAddress]:\n    'mock-relatedaddress',\n  [Constants.PreflightRTCIceCandidateStatsRelatedPort]: 50,\n  [Constants.PreflightRTCIceCandidateStatsTcpType]: 'mock-tcptype',\n  [Constants.PreflightRTCIceCandidateStatsTransportId]: 'mock-transportid',\n  [Constants.PreflightRTCIceCandidateStatsUrl]: 'mock-url',\n};\n\nexport const mockPreflightStats: PreflightTest.Stats = {\n  [Constants.PreflightStatsAverage]: 10,\n  [Constants.PreflightStatsMax]: 20,\n  [Constants.PreflightStatsMin]: 30,\n};\n\nexport const mockPreflightRtcStats: PreflightTest.RTCStats = {\n  [Constants.PreflightRTCStatsJitter]: mockPreflightStats,\n  [Constants.PreflightRTCStatsMos]: mockPreflightStats,\n  [Constants.PreflightRTCStatsRtt]: mockPreflightStats,\n};\n\nexport const mockTiming = {\n  duration: 10,\n  endTime: 20,\n  startTime: 30,\n};\n\nexport const mockNetworkTiming = {\n  signaling: mockTiming,\n  peerConnection: mockTiming,\n  iceConnection: mockTiming,\n  preflightTest: mockTiming,\n};\n\nexport const mockWarning = {\n  name: 'mock-warningname',\n  threshold: 'mock-warningthreshold',\n  timestamp: 10,\n  values: 'mock-warningvalues',\n};\n\nexport const mockWarningCleared = {\n  name: 'mock-warningclearedname',\n  timestamp: 10,\n};\n\nexport const baseMockReport = {\n  callSid: 'mock-callsid',\n  edge: 'mock-edge',\n  iceCandidates: [mockRtcIceCandidateStats, mockRtcIceCandidateStats],\n  networkStats: mockPreflightRtcStats,\n  networkTiming: mockNetworkTiming,\n  statsSamples: [mockSample, mockSample],\n  selectedEdge: 'mock-selectededge',\n  selectedIceCandidatePair: {\n    localCandidate: mockRtcIceCandidateStats,\n    remoteCandidate: mockRtcIceCandidateStats,\n  },\n  warnings: [mockWarning, mockWarning],\n  warningsCleared: [mockWarningCleared, mockWarningCleared],\n};\n\nexport const expectedReport: PreflightTest.Report = {\n  callQuality: PreflightTest.CallQuality.Excellent,\n  callSid: 'mock-callsid',\n  edge: 'mock-edge',\n  iceCandidateStats: [\n    {\n      candidateType: 'mock-candidatetype',\n      deleted: false,\n      ip: 'mock-ip',\n      isRemote: false,\n      networkCost: 10,\n      networkId: 20,\n      networkType: 'mock-networktype',\n      port: 30,\n      priority: 40,\n      protocol: 'mock-protocol',\n      relatedAddress: 'mock-relatedaddress',\n      relatedPort: 50,\n      tcpType: 'mock-tcptype',\n      transportId: 'mock-transportid',\n      url: 'mock-url',\n    },\n    {\n      candidateType: 'mock-candidatetype',\n      deleted: false,\n      ip: 'mock-ip',\n      isRemote: false,\n      networkCost: 10,\n      networkId: 20,\n      networkType: 'mock-networktype',\n      port: 30,\n      priority: 40,\n      protocol: 'mock-protocol',\n      relatedAddress: 'mock-relatedaddress',\n      relatedPort: 50,\n      tcpType: 'mock-tcptype',\n      transportId: 'mock-transportid',\n      url: 'mock-url',\n    },\n  ],\n  isTurnRequired: false,\n  networkTiming: {\n    ice: {\n      duration: 10,\n      end: 20,\n      start: 30,\n    },\n    peerConnection: {\n      duration: 10,\n      end: 20,\n      start: 30,\n    },\n    signaling: {\n      duration: 10,\n      end: 20,\n      start: 30,\n    },\n  },\n  samples: [\n    {\n      audioInputLevel: 10,\n      audioOutputLevel: 20,\n      bytesReceived: 30,\n      bytesSent: 40,\n      codec: 'mock-codec',\n      jitter: 50,\n      mos: 60,\n      packetsLost: 70,\n      packetsLostFraction: 80,\n      packetsReceived: 90,\n      packetsSent: 100,\n      rtt: 110,\n      timestamp: 120,\n    },\n    {\n      audioInputLevel: 10,\n      audioOutputLevel: 20,\n      bytesReceived: 30,\n      bytesSent: 40,\n      codec: 'mock-codec',\n      jitter: 50,\n      mos: 60,\n      packetsLost: 70,\n      packetsLostFraction: 80,\n      packetsReceived: 90,\n      packetsSent: 100,\n      rtt: 110,\n      timestamp: 120,\n    },\n  ],\n  selectedEdge: 'mock-selectededge',\n  selectedIceCandidatePairStats: {\n    localCandidate: {\n      candidateType: 'mock-candidatetype',\n      deleted: false,\n      ip: 'mock-ip',\n      isRemote: false,\n      networkCost: 10,\n      networkId: 20,\n      networkType: 'mock-networktype',\n      port: 30,\n      priority: 40,\n      protocol: 'mock-protocol',\n      relatedAddress: 'mock-relatedaddress',\n      relatedPort: 50,\n      tcpType: 'mock-tcptype',\n      transportId: 'mock-transportid',\n      url: 'mock-url',\n    },\n    remoteCandidate: {\n      candidateType: 'mock-candidatetype',\n      deleted: false,\n      ip: 'mock-ip',\n      isRemote: false,\n      networkCost: 10,\n      networkId: 20,\n      networkType: 'mock-networktype',\n      port: 30,\n      priority: 40,\n      protocol: 'mock-protocol',\n      relatedAddress: 'mock-relatedaddress',\n      relatedPort: 50,\n      tcpType: 'mock-tcptype',\n      transportId: 'mock-transportid',\n      url: 'mock-url',\n    },\n  },\n  stats: {\n    jitter: {\n      average: 10,\n      max: 20,\n      min: 30,\n    },\n    mos: {\n      average: 10,\n      max: 20,\n      min: 30,\n    },\n    rtt: {\n      average: 10,\n      max: 20,\n      min: 30,\n    },\n  },\n  testTiming: {\n    duration: 10,\n    end: 20,\n    start: 30,\n  },\n  warnings: [\n    {\n      name: 'mock-warningname',\n      threshold: 'mock-warningthreshold',\n      timestamp: 10,\n      values: 'mock-warningvalues',\n    },\n    {\n      name: 'mock-warningname',\n      threshold: 'mock-warningthreshold',\n      timestamp: 10,\n      values: 'mock-warningvalues',\n    },\n  ],\n  warningsCleared: [\n    {\n      name: 'mock-warningclearedname',\n      timestamp: 10,\n    },\n    {\n      name: 'mock-warningclearedname',\n      timestamp: 10,\n    },\n  ],\n};\n\nexport const makeMockNativePreflightEvent = (eventType: any) => ({\n  [Constants.PreflightTestEventKeyUuid]: mockUuid,\n  [Constants.PreflightTestEventKeyType]: eventType,\n});\n"],"mappings":"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","ignoreList":[]}